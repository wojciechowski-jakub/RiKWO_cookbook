<ion-header [translucent]="true">
  <ion-toolbar *ngIf="!searching">
    <ion-title> Search </ion-title>
  </ion-toolbar>
  <ion-toolbar>
    <div class="searchbar">
      <ion-icon
        name="arrow-back-outline"
        class="searchbar__icon-back"
        [class.searchbar__icon-back--visible]="searching"
        (click)="cancelSearch(searchbar)"
      ></ion-icon>
      <ion-searchbar
        #searchbar
        (ionInput)="search(searchbar.value)"
      ></ion-searchbar>
    </div>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <div class="categories" *ngIf="!searching">
    <app-category-card
      *ngFor="let category of categories$ | async"
      [category]="category"
    ></app-category-card>
  </div>

  <div class="recipes" [hidden]="!searching">
    <app-recipe-card
      *ngFor="let recipe of recipes$ | async"
      [recipe]="recipe"
    ></app-recipe-card>
  </div>
</ion-content>
